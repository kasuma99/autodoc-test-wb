# Autodoc Test WebService

The **Autodoc Test WebService** project is designed to complete a test task provided by a recruiter from the Autodoc company.


## Purpose and Functionality:

The workflow is as follows: 
1. The client sends a request to the server, uploading an Excel file with two columns: Date and Sales. 
2. The server accepts the request and processes the file in the background. It validates the file, logs errors saving logs in a database, and fills in missing values in the file. 
3. Once this background task is completed, the client can download the modified file through the server.

## Technologies Used:

The project is written in `Python 3.11`. The server is built using `FastAPI`, and background tasks are managed with `Celery`, with `Redis` serving as the message broker. `Docker` is used for containerization of the project. `PostgreSQL` and `SQLAlchemy` are utilized for the database to store logs, and `Alembic` is used as the migration manager. 

The project's structure is organized to facilitate scaling using the Factory Method pattern (`services` module) and is designed to be easily covered with unit tests (which have not been written yet).

## Installation Instructions:

All your files and folders are presented as a tree in the file explorer. You can switch from one to another by clicking a file in the tree.

## Installation Instructions:

#### 1. Install Docker

If Docker is not installed, download and install Docker Desktop from the [official Docker website](https://www.docker.com/products/docker-desktop).

#### 2. Clone the Project Clone the project repository:

    git clone git@github.com:kasuma99/autodoc-test-wb.git

#### 3. Set Up Docker Environment Variables

Navigate to the project's root directory:

    cd autodoc-test-wb
    
   Clone the `.env.docker.example` file and rename it to `.env.docker`:

    cp .env.docker.example .env.docker  

#### 4. Set Up Backend Environment Variables

Navigate to the backend directory, clone the `.env.example` file and rename it to `.env`:

    cd backend
    cp .env.example .env

#### 5. Start the Project
Return to the project's root directory, enter the `scripts` directory and run `start.bat` script:

    cd ..
    cd scripts
    ./start.bat


## Usage Instructions:

Navigate to the Swagger interface automatically generated by FastAPI and use the endpoints listed there. Documentation to the endpoints is provided to ensure clarity in usage.


## Code Note:

There are many areas of the code that could be improved or refactored. In my opinion, the project is 60% complete and far from perfect. There are no unit tests in the project yet, as time did not permit. Comments have been left on some lines of code.

## Note on Excel File Processing Method:

To address the task of restoring missing sales data, several approaches in machine learning can be applied, depending on the nature and volume of the data and assumptions about the nature of the gaps. Methods include:

1.  **Interpolation**: If the sales data shows temporal trends and missing values are not too numerous, linear or polynomial interpolation can be used. This method assumes that values on missing days can be approximated based on neighboring days.
    
2.  **Mean/Median**: In the absence of clear temporal trends, missing values can be replaced with the mean or median value of sales for that period. This approach assumes that missing values do not significantly deviate from the overall trend.
    
3.  **Time Series Forecasting**: For extensive time series data, forecasting models like ARIMA or LSTM (neural networks) can be used to predict missing values. These methods work well when complex temporal dependencies are present in the data.
    
4.  **Using External Data**: If data gaps can be linked to external events (e.g., holidays, weather conditions), these can be included as additional features in a machine learning model for more accurate restoration.
    
5.  **Multiple Imputation**: This method involves creating several possible filled datasets and analyzing them. It's a more complex approach often used in statistical analysis to account for uncertainty associated with missing data.
    

The first method was chosen as the most effective among others based on the quality-time-performance criterion. Other methods can be applied and easily implemented in the project.
